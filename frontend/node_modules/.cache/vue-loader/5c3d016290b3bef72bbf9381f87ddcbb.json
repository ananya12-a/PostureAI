{"remainingRequest":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/components/upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/components/upload.vue","mtime":1641898528771},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7bWFwR2V0dGVycywgbWFwU3RhdGUsIG1hcE11dGF0aW9uc30gZnJvbSAndnVleCcKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YTogKCk9Pih7CiAgICAgICAgdmlkZW86bnVsbCwKICAgICAgICBtZXNzYWdlOiIiLAogICAgICAgIGV4Y2VyY2lzZVR5cGVzOiB7c2lkZTogWyJMdW5nZSAoU2lkZSkiLCAiU3F1YXQgKFNpZGUpIl0sIGZyb250OiBbIlNpZGUgTHVuZ2UgKEZyb250KSJdfSwKICAgICAgICBleGNlcmNpc2VUeXBlOiJMdW5nZSAoU2lkZSkiLAogICAgfSksCiAgICBtZXRob2RzOnsKICAgICAgICBoYW5kbGUoZXZlbnQpIHsKICAgICAgICAgICAgdGhpcy52aWRlbyA9IGV2ZW50LnRhcmdldC5maWxlcy5sZW5ndGggPiAwID8gZXZlbnQudGFyZ2V0LmZpbGVzWzBdIDogbnVsbDsKICAgICAgICAgICAgY29uc29sZS5sb2coImhhbmRsZSIsIHRoaXMudmlkZW8pCiAgICAgICAgfSwKICAgICAgICB1cGxvYWQoKXsKICAgICAgICAgICAgaWYgKCF0aGlzLnZpZGVvKSByZXR1cm47IAogICAgICAgICAgICBjb25zdCBmb3JtRGF0YU9iaiA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICBmb3JtRGF0YU9iai5hcHBlbmQoInZpZGVvIiwgdGhpcy52aWRlbykKICAgICAgICAgICAgY29uc29sZS5sb2coInVwbG9hZCIsIGZvcm1EYXRhT2JqLmdldEFsbCgndmlkZW8nKSwgdGhpcy51c2VySUQsIHRoaXMuZXhjZXJjaXNlVHlwZSkKICAgICAgICAgICAgYXhpb3MucG9zdChgJHt0aGlzLmJhc2VVUkx9L3VwbG9hZC91cGxvYWRmaWxlLyR7dGhpcy51c2VySUR9LyR7dGhpcy5leGNlcmNpc2VUeXBlfWAsIAogICAgICAgICAgICAgICAgZm9ybURhdGFPYmosCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5zdWJJRCkgewogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbW1pdCBzdGF0ZSBjaGFuZ2UKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlIHN1YiBpZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB1cGRhdGVDdXJyZW50U3ViKHN1YklEKXsKICAgICAgICAgICAgdGhpcy51cGRhdGVTdWJJRChzdWJJRCkKICAgICAgICAgICAgdGhpcy4kZW1pdCgnbmV3U3ViSUQnLCB0cnVlKQogICAgICAgIH0sCiAgICAgICAgLi4ubWFwTXV0YXRpb25zKHt1cGRhdGVTdWJJRDonc3VibWlzc2lvbnMvdXBkYXRlU3ViSUQnfSkKICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgLi4ubWFwR2V0dGVycyh7YmFzZVVSTDogJ3VybHMvZ2V0VVJMJ30pLAogICAgICAgIC4uLm1hcFN0YXRlKCdhY2NvdW50JywgewogICAgICAgICAgICB1c2VybmFtZTogc3RhdGUgPT4gc3RhdGUudXNlcm5hbWUsCiAgICAgICAgICAgIHVzZXJJRDogc3RhdGUgPT4gc3RhdGUudXNlcklELAogICAgICAgICAgICB0b2tlbjogc3RhdGUgPT4gc3RhdGUudG9rZW4sCiAgICAgICAgfSksCiAgICB9Cn0K"},{"version":3,"sources":["upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"upload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div class=\"md-layout\">\n            <div class=\"md-layout-item\">\n                <md-field>\n                <label>Video Upload</label>\n                <md-file name='video' @change=\"handle\" placeholder=\"Upload single video\" accept=\"video/*\" />\n                </md-field>\n                <md-button type=\"submit\" class=\"md-primary\" @click=\"upload\">Upload</md-button>\n                <div class=\"message\">{{message}}</div>\n            </div>\n            <div class=\"md-layout-item\">\n                <md-select v-model=\"excerciseType\" placeholder=\"Exercise Name\"> <!--@change change exercise analysis-->\n                    <md-optgroup label=\"Side View\">\n                        <md-option v-for=\"excerciseType in excerciseTypes.side\" v-bind:key=\"excerciseType\" :value=\"excerciseType\">{{excerciseType}}</md-option>\n                    </md-optgroup>\n                    <md-optgroup label=\"Front View\">\n                        <md-option v-for=\"excerciseType in excerciseTypes.front\" v-bind:key=\"excerciseType\" :value=\"excerciseType\">{{excerciseType}}</md-option>\n                    </md-optgroup>\n                </md-select>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {mapGetters, mapState, mapMutations} from 'vuex'\nexport default {\n    data: ()=>({\n        video:null,\n        message:\"\",\n        excerciseTypes: {side: [\"Lunge (Side)\", \"Squat (Side)\"], front: [\"Side Lunge (Front)\"]},\n        excerciseType:\"Lunge (Side)\",\n    }),\n    methods:{\n        handle(event) {\n            this.video = event.target.files.length > 0 ? event.target.files[0] : null;\n            console.log(\"handle\", this.video)\n        },\n        upload(){\n            if (!this.video) return; \n            const formDataObj = new FormData();\n            formDataObj.append(\"video\", this.video)\n            console.log(\"upload\", formDataObj.getAll('video'), this.userID, this.excerciseType)\n            axios.post(`${this.baseURL}/upload/uploadfile/${this.userID}/${this.excerciseType}`, \n                formDataObj,\n                {\n                    'Content-Type': 'multipart/form-data'\n                })\n                .then(res => {\n                    if (res.status === 200 && res.data && res.data.subID) {\n                        //commit state change\n                        // change sub id\n                    }\n                })\n        },\n        updateCurrentSub(subID){\n            this.updateSubID(subID)\n            this.$emit('newSubID', true)\n        },\n        ...mapMutations({updateSubID:'submissions/updateSubID'})\n    },\n    computed:{\n        ...mapGetters({baseURL: 'urls/getURL'}),\n        ...mapState('account', {\n            username: state => state.username,\n            userID: state => state.userID,\n            token: state => state.token,\n        }),\n    }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}