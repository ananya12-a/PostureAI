{"remainingRequest":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/components/signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/components/signup.vue","mtime":1641555438032},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7bWFwR2V0dGVyc30gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6ICgpPT4oewogICAgICAgIGVycm9yOmZhbHNlLAogICAgICAgIG1lc3NhZ2U6IiIsCiAgICAgICAgdXNlcm5hbWU6IiIsCiAgICAgICAgcGFzc3dvcmQ6IiIsCiAgICAgICAgZW1haWw6IiIsCiAgICAgICAgdXNlcm5hbWVFcnJvcjogZmFsc2UsCiAgICAgICAgdXNlcm5hbWVFcnJvck1lc3NhZ2U6ICIiLAogICAgICAgIGVtYWlsRXJyb3I6IGZhbHNlLAogICAgICAgIGVtYWlsRXJyb3JNZXNzYWdlOiAiIiwKICAgICAgICBlbWFpbFJlZ2V4Oi9eXHcrKFstXT9cdyspKkBcdysoWy1dP1x3KykqKFx3ezIsM30pKyQvLAogICAgICAgIHBhc3N3b3JkRXJyb3I6IGZhbHNlLAogICAgICAgIHBhc3N3b3JkRXJyb3JNZXNzYWdlOiAiIiwKICAgICAgICBwYXNzd29yZFJlZ2V4Oi9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXGQpW2EtekEtWlxkXXs4LH0kLywKICAgIH0pLAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBtZXNzYWdlQ2xhc3MgKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21kLWludmFsaWQnOiB0aGlzLmVycm9yCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgIC4uLm1hcEdldHRlcnMoe2Jhc2VVUkw6ICd1cmxzL2dldFVSTCd9KQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGFzeW5jIHVzZXJuYW1lRXhpc3RzKCkgewogICAgICAgICAgICB0aGlzLnVzZXJuYW1lRXJyb3IgPSAoYXdhaXQgYXhpb3MuZ2V0KHRoaXMuYmFzZVVSTCArICIvYWNjb3VudC9zaWdudXAtaGVscGVyL3VzZXJuYW1lLyIgKyB0aGlzLnVzZXJuYW1lKSkuZGF0YS5leGlzdHM7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcm5hbWVFcnJvcikKICAgICAgICAgICAgaWYgKHRoaXMudXNlcm5hbWVFcnJvcikgewogICAgICAgICAgICAgICAgdGhpcy51c2VybmFtZUVycm9yTWVzc2FnZSA9ICJVc2VybmFtZSBBbHJlYWR5IEV4aXN0cyEiOwogICAgICAgICAgICB9Ly9pZiB5b3Ugd2FudCB0byBwdXQgcmVxdWlyZW1lbnRzIGZvciB1c2VybmFtZSh2ZXJpZmljYXRpb24pIGRpZmZlcmVudCBpZnMKICAgICAgICB9LAogICAgICAgIGFzeW5jIGVtYWlsRXhpc3RzKCkgewogICAgICAgICAgICB0aGlzLmVtYWlsRXJyb3IgPSAoYXdhaXQgYXhpb3MuZ2V0KHRoaXMuYmFzZVVSTCArICIvYWNjb3VudC9zaWdudXAtaGVscGVyL2VtYWlsLyIgKyB0aGlzLmVtYWlsKSkuZGF0YS5leGlzdHM7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZW1haWxFcnJvciwgdGhpcy5lbWFpbCkKICAgICAgICAgICAgaWYgKHRoaXMuZW1haWxFcnJvcikgewogICAgICAgICAgICAgICAgdGhpcy5lbWFpbEVycm9yTWVzc2FnZSA9ICJFbWFpbCBBbHJlYWR5IFJlZ2lzdGVyZWQhIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICghdGhpcy5lbWFpbC5tYXRjaCh0aGlzLmVtYWlsUmVnZXgpKXsKICAgICAgICAgICAgICAgIHRoaXMuZW1haWxFcnJvciA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuZW1haWxFcnJvck1lc3NhZ2UgPSAiTm90IGEgdmFsaWQgZW1haWwiCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIHBhc3N3b3JkVmVyaWZpY2F0aW9uKCl7CiAgICAgICAgICAgIGlmICghdGhpcy5wYXNzd29yZC5tYXRjaCh0aGlzLnBhc3N3b3JkUmVnZXgpKXsKICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRFcnJvciA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRFcnJvck1lc3NhZ2UgPSAiUGxlYXNlIGVuc3VyZSB5b3UgaGF2ZSBhdGxlYXN0IGVpZ2h0IGNoYXJhY3RlcnMsIG9uZSB1cHBlcmNhc2UgbGV0dGVyLCBvbmUgbG93ZXJjYXNlIGxldHRlciBhbmQgb25lIG51bWJlci4iCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNpZ251cCgpIHsKICAgICAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lCiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZAogICAgICAgICAgICBjb25zdCBlbWFpbCA9IHRoaXMuZW1haWwKCiAgICAgICAgICAgIGF4aW9zLnBvc3QodGhpcy5iYXNlVVJMICsgIi9hY2NvdW50L3NpZ251cCIsIHsKICAgICAgICAgICAgICB1c2VybmFtZSwKICAgICAgICAgICAgICBwYXNzd29yZCwKICAgICAgICAgICAgICBlbWFpbAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yPWZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NpZ25lZHVwJywge3VzZXJuYW1lLCBwYXNzd29yZCwgdXNlcl9pZDogcmVzLmRhdGEudXNlcl9pZCwgdG9rZW46IHJlcy5kYXRhLnRva2VufSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInVuc3VjY2Vzc2Z1bCIpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5zdGF0dXMpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLyouY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gZXJyLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInVuc3VjY2Vzc2Z1bCIpCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHJlcy5kYXRhID8gcmVzLmRhdGEuZXJyb3IgPyByZXMuZGF0YS5lcnJvciA6ICIiIDogIiI7CiAgICAgICAgICAgIH0pKi8KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signup.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <md-field :class=\"error || usernameError ? 'md-invalid' : ''\">\n            <label>Username</label>\n            <md-input v-model=\"username\" autofocus @change=\"usernameExists\"></md-input>\n            <!--<span class=\"md-error\">Invalid Login</span>-->\n        </md-field>\n        <div class = \"error\" v-if=\"usernameError\">\n            {{usernameErrorMessage}}\n        </div>\n\n        <md-field :class=\"error || emailError ? 'md-invalid' : ''\">\n            <label>Email</label>\n            <md-input v-model=\"email\" type=\"email\" @change=\"emailExists\"></md-input>\n            <!--<span class=\"md-error\">Invalid Login</span>-->\n        </md-field>\n        <div class = \"error\" v-if=\"emailError\">\n            {{emailErrorMessage}}\n        </div>\n        \n\n        <md-field md-has-password :class=\"error || passwordError ? 'md-invalid' : ''\">\n          <label>Password</label>\n          <md-input v-model=\"password\" type=\"password\" @change=\"passwordVerification\"></md-input>\n          <!--<span class=\"md-error\">Invalid Login</span>-->\n        </md-field>\n        <div class = \"error\" v-if=\"passwordError\">\n            {{passwordErrorMessage}}\n        </div>\n\n        <div class = \"error\" v-if=\"error\">\n            {{message}}\n        </div>\n\n        <div style=\"text-align:center\">\n            <md-button class=\"md-raised md-primary\" @click=\"signup\">Sign Up</md-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {mapGetters} from \"vuex\";\nexport default {\n    data: ()=>({\n        error:false,\n        message:\"\",\n        username:\"\",\n        password:\"\",\n        email:\"\",\n        usernameError: false,\n        usernameErrorMessage: \"\",\n        emailError: false,\n        emailErrorMessage: \"\",\n        emailRegex:/^\\w+([-]?\\w+)*@\\w+([-]?\\w+)*(\\w{2,3})+$/,\n        passwordError: false,\n        passwordErrorMessage: \"\",\n        passwordRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/,\n    }),\n    computed: {\n        messageClass () {\n                        return {\n                            'md-invalid': this.error\n                        }\n                    },\n        ...mapGetters({baseURL: 'urls/getURL'})\n    },\n    methods:{\n        async usernameExists() {\n            this.usernameError = (await axios.get(this.baseURL + \"/account/signup-helper/username/\" + this.username)).data.exists;\n            console.log(this.usernameError)\n            if (this.usernameError) {\n                this.usernameErrorMessage = \"Username Already Exists!\";\n            }//if you want to put requirements for username(verification) different ifs\n        },\n        async emailExists() {\n            this.emailError = (await axios.get(this.baseURL + \"/account/signup-helper/email/\" + this.email)).data.exists;\n            console.log(this.emailError, this.email)\n            if (this.emailError) {\n                this.emailErrorMessage = \"Email Already Registered!\";\n            }\n            else if (!this.email.match(this.emailRegex)){\n                this.emailError = true\n                this.emailErrorMessage = \"Not a valid email\"\n            }\n        },\n        async passwordVerification(){\n            if (!this.password.match(this.passwordRegex)){\n                this.passwordError = true\n                this.passwordErrorMessage = \"Please ensure you have atleast eight characters, one uppercase letter, one lowercase letter and one number.\"\n            }\n        },\n        signup() {\n            const username = this.username\n            const password = this.password\n            const email = this.email\n\n            axios.post(this.baseURL + \"/account/signup\", {\n              username,\n              password,\n              email\n            })\n            .then((res) => {\n                if (res.data.status){\n                    this.error=false;\n                    this.$emit('signedup', {username, password, user_id: res.data.user_id, token: res.data.token})\n                }\n                else{\n                    console.log(\"unsuccessful\")\n                    this.error = true\n                }\n                console.log(res.status)\n                console.log(res.data)\n            })\n            /*.catch((err) => {\n                const res = err.response;\n                console.log(\"unsuccessful\")\n                this.error = true;\n                console.log(res)\n                this.message = res.data ? res.data.error ? res.data.error : \"\" : \"\";\n            })*/\n        }\n    }\n}\n</script>\n\n<style scoped>\n.error {\n    color: red;\n}\n</style>"]}]}