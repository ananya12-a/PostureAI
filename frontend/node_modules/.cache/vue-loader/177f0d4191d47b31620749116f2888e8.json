{"remainingRequest":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/components/friendsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/components/friendsList.vue","mtime":1641554869464},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7bWFwR2V0dGVycywgbWFwU3RhdGV9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhOiAoKSA9Pih7CiAgICAgICAgZnJpZW5kczogW10sCiAgICAgICAgZnJpZW5kRGF0YTogW10sCiAgICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgICAgZnJpZW5kRGF0YUljb25zOlsKICAgICAgICAgICAge2ljb246J2xvY2FsX2ZpcmVfZGVwYXJ0bWVudCcsIG5hbWU6J3N0cmVha3MnLCBzaG93OidTdHJlYWtzJ30sCiAgICAgICAgICAgIHtpY29uOidjYWxlbmRhcl90b2RheScsIG5hbWU6J2RheXNfYWN0aXZlJywgc2hvdzonRGF5cyBBY3RpdmUnfSwKICAgICAgICAgICAge2ljb246ICdiYWRnZScsIG5hbWU6J3R5cGUnLCBzaG93OidVc2VyIFR5cGUnfSwKICAgICAgICAgICAge2ljb246J2hpc3RvcnknLCBuYW1lOid0aW1lc3RhbXAnLCBzaG93OidKb2luZWQgb24nfQogICAgICAgIF0KICAgIH0pLAogICAgY29tcHV0ZWQ6ewogICAgICAgIC4uLm1hcFN0YXRlKCdhY2NvdW50JywgewogICAgICAgICAgICB1c2VybmFtZTogc3RhdGUgPT4gc3RhdGUudXNlcm5hbWUsCiAgICAgICAgICAgIHVzZXJJRDogc3RhdGUgPT4gc3RhdGUudXNlcklELAogICAgICAgICAgICB0b2tlbjogc3RhdGUgPT4gc3RhdGUudG9rZW4sCiAgICAgICAgfSksCiAgICAgICAgLi4ubWFwR2V0dGVycyh7YmFzZVVSTDogJ3VybHMvZ2V0VVJMJ30pCiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIGNvbnNvbGUubG9nKCJ1cmwiLCB0aGlzLmJhc2VVUkwsIHRoaXMudXNlcklEKQogICAgICAgIGF4aW9zLnBvc3QodGhpcy5iYXNlVVJMKyIvc29jaWFsL2dldC1mcmllbmRzLWxpc3QiLCB7dXNlcl9pZDp0aGlzLnVzZXJJRCwgdG9rZW46dGhpcy50b2tlbn0pCiAgICAgICAgLnRoZW4oKHJlcyk9PnsKICAgICAgICAgICAgdGhpcy5mcmllbmRzID0gcmVzLmRhdGEuZnJpZW5kcwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcik9PnsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXM9PT00MDMgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5pbnZhbGlkVG9rZW4pewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbG9nb3V0JykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBnZXRJbmZvKGlucHV0dGVkX3VzZXJuYW1lKXsKICAgICAgICAgICAgYXhpb3MucG9zdCh0aGlzLmJhc2VVUkwrIi9zb2NpYWwvZ2V0LXB1YmxpYy1pbmZvIiwge3VzZXJfaWQ6dGhpcy51c2VySUQsIHRva2VuOnRoaXMudG9rZW4sIGZyaWVuZHVzZXJuYW1lOiBpbnB1dHRlZF91c2VybmFtZX0pCiAgICAgICAgICAgIC50aGVuKChyZXMpPT57CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICAgICAgICAgIC8vY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJlcy5kYXRhKQogICAgICAgICAgICAgICAgLy9jb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKHJlcy5kYXRhKQogICAgICAgICAgICAgICAgdGhpcy5mcmllbmREYXRhID0gcmVzLmRhdGEvL1tdCiAgICAgICAgICAgICAgICAvKmZvciAobGV0IGkgPTA7IGk8a2V5cy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZyaWVuZERhdGEucHVzaCh7ImZpZWxkIjoga2V5c1tpXSwgInZhbHVlIjogdmFsdWVzW2ldfSkKICAgICAgICAgICAgICAgIH0qLwogICAgICAgICAgICAgICAgdGhpcy5mcmllbmREYXRhLnRpbWVzdGFtcCA9IG5ldyBEYXRlKHRoaXMuZnJpZW5kRGF0YS50aW1lc3RhbXAqMTAwMCkudG9Mb2NhbGVEYXRlU3RyaW5nKCJlbi1JTiIpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaSIsIHRoaXMuZnJpZW5kRGF0YSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnJvcik9PnsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXM9PT00MDMgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5pbnZhbGlkVG9rZW4pewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbG9nb3V0JykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["friendsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"friendsList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <md-list id=\"friendsList\">\n\n            <md-subheader>Your Friends</md-subheader>\n            <md-list-item v-for=\"item in this.friends\" v-bind:key=\"item\" @click=\"getInfo(item)\">\n                <span class=\"md-list-item-text\" @click=\"showDialog = true\">{{item}}</span>\n                <md-dialog :md-active.sync=\"showDialog\">\n                    <md-dialog-title style=\"text-align:center\">{{friendData.username}}</md-dialog-title>\n\n                    <md-tabs md-dynamic-height>\n                        <md-tab md-label=\"Statistics\">\n                            <md-list v-for=\"data in friendDataIcons\" v-bind:key=\"data.name\">\n                                <md-list-item>\n                                    <md-icon>{{data.icon}}</md-icon>\n                                    <span class=\"md-list-item-text\">{{data.show}} : {{friendData[data.name]}}</span>\n                                </md-list-item>\n                            </md-list>\n                        </md-tab>\n                    </md-tabs>\n\n                    <md-dialog-actions>\n                        <md-button class=\"md-primary\" @click=\"showDialog = false\">Close</md-button>\n                    </md-dialog-actions>\n                </md-dialog>\n            </md-list-item>\n        </md-list>\n        <!--<md-list>\n            <md-subheader>Friends of {{this.username}}</md-subheader>\n            <md-list-item v-for=\"item in this.friends\" v-bind:key=\"item\" @click=\"getInfo(item)\">\n\n                <span class=\"md-list-item-text\">{{item}}</span>\n            </md-list-item>\n        </md-list>-->\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {mapGetters, mapState} from 'vuex';\nexport default {\n    data: () =>({\n        friends: [],\n        friendData: [],\n        showDialog: false,\n        friendDataIcons:[\n            {icon:'local_fire_department', name:'streaks', show:'Streaks'},\n            {icon:'calendar_today', name:'days_active', show:'Days Active'},\n            {icon: 'badge', name:'type', show:'User Type'},\n            {icon:'history', name:'timestamp', show:'Joined on'}\n        ]\n    }),\n    computed:{\n        ...mapState('account', {\n            username: state => state.username,\n            userID: state => state.userID,\n            token: state => state.token,\n        }),\n        ...mapGetters({baseURL: 'urls/getURL'})\n    },\n    mounted(){\n        console.log(\"url\", this.baseURL, this.userID)\n        axios.post(this.baseURL+\"/social/get-friends-list\", {user_id:this.userID, token:this.token})\n        .then((res)=>{\n            this.friends = res.data.friends\n        })\n        .catch((error)=>{\n                if (error.response.status===403 && error.response.data.invalidToken){\n                    this.$store.commit('logout')\n                }\n            })\n    },\n    methods:{\n        getInfo(inputted_username){\n            axios.post(this.baseURL+\"/social/get-public-info\", {user_id:this.userID, token:this.token, friendusername: inputted_username})\n            .then((res)=>{\n                console.log(res.data)\n                //const keys = Object.keys(res.data)\n                //const values = Object.values(res.data)\n                this.friendData = res.data//[]\n                /*for (let i =0; i<keys.length;i++){\n                    this.friendData.push({\"field\": keys[i], \"value\": values[i]})\n                }*/\n                this.friendData.timestamp = new Date(this.friendData.timestamp*1000).toLocaleDateString(\"en-IN\")\n                console.log(\"i\", this.friendData)\n            })\n            .catch((error)=>{\n                if (error.response.status===403 && error.response.data.invalidToken){\n                    this.$store.commit('logout')\n                }\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n#friendsList {\n    width: 320px;\n    max-width: 100%;\n    display: inline-block;\n    vertical-align: top;\n    border: 1px solid rgba(#000, .12);\n  }\n</style>"]}]}