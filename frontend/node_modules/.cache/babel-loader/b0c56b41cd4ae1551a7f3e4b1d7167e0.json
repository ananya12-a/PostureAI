{"remainingRequest":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/babel-loader/lib/index.js!/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/assets/squatAnalysis.js","dependencies":[{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/assets/squatAnalysis.js","mtime":1640208005063},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ananyaaggarwal/Desktop/PostureAI/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYXZlcmFnZSwgYW5nbGVUb0hvcmksIGFuZ2xlU2NvcmVDYWxjLCBsdFNjb3JlQ2FsYywgZGlzdGFuY2UsIGF2ZXJhZ2VLZXlwb2ludHMsIGd0U2NvcmVDYWxjIH0gZnJvbSAnLi9leGVyY2lzZV91dGlscy5qcyc7IC8vaW1wb3J0IGVuZ2luZSBmcm9tICcuL2VuZ2luZS5qcyc7CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTcXVhdGFuYWx5c2UoZW5naW5lKSB7CiAgdmFyIGtleXBvaW50cyA9IGVuZ2luZS5nZXRLZXlQb2ludHMoKTsKICB2YXIgb3V0cHV0ID0gewogICAgZmVhdHVyZXM6IFtdLAogICAgYXZlcmFnZVNjb3JlOiAwCiAgfTsKICB2YXIgbGVmdEZlZWRiYWNrID0gIiI7CiAgdmFyIGxlZnRTY29yZSA9IDA7CiAgdmFyIHJpZ2h0RmVlZGJhY2sgPSAiIjsKICB2YXIgcmlnaHRTY29yZSA9IDA7CiAgdmFyIGJhY2tGZWVkYmFjayA9ICIiOwogIHZhciBiYWNrU2NvcmUgPSAwOwogIHZhciBoaXBGZWVkYmFjayA9ICIiOwogIHZhciBoaXBTY29yZSA9IDA7CiAgaWYgKGtleXBvaW50c1szMV1bJ3gnXSAtIGtleXBvaW50c1syNV1bJ3gnXSA8PSBkaXN0YW5jZShrZXlwb2ludHNbMjddLCBrZXlwb2ludHNbMjldKSkgbGVmdEZlZWRiYWNrID0gJ0dvb2QsIG5vdCBnb2luZyBvdmVyIHRvZXMnO2Vsc2UgbGVmdEZlZWRiYWNrID0gJ1lvdXIgbGVmdCBrbmVlIGlzIGdvaW5nIG92ZXIgeW91ciB0b2VzJzsKICBsZWZ0U2NvcmUgPSBsdFNjb3JlQ2FsYyhrZXlwb2ludHNbMzFdWyd4J10gLSBrZXlwb2ludHNbMjVdWyd4J10sIGRpc3RhbmNlKGtleXBvaW50c1syN10sIGtleXBvaW50c1syOV0pKTsKICBpZiAoa2V5cG9pbnRzWzMyXVsneCddIC0ga2V5cG9pbnRzWzI2XVsneCddIDw9IGRpc3RhbmNlKGtleXBvaW50c1syOF0sIGtleXBvaW50c1szMF0pKSByaWdodEZlZWRiYWNrID0gJ0dvb2QsIG5vdCBnb2luZyBvdmVyIHRvZXMnO2Vsc2UgcmlnaHRGZWVkYmFjayA9ICdZb3VyIHJpZ2h0IGtuZWUgaXMgZ29pbmcgb3ZlciB5b3VyIHRvZXMnOwogIHJpZ2h0U2NvcmUgPSBsdFNjb3JlQ2FsYyhrZXlwb2ludHNbMzJdWyd4J10gLSBrZXlwb2ludHNbMjZdWyd4J10sIGRpc3RhbmNlKGtleXBvaW50c1syOF0sIGtleXBvaW50c1szMF0pKTsKICBvdXRwdXRbJ2ZlYXR1cmVzJ10ucHVzaCh7CiAgICBhdHRyOiAiTGVmdCBLbmVlIiwKICAgIGZlZWRiYWNrOiBsZWZ0RmVlZGJhY2ssCiAgICBzY29yZTogbGVmdFNjb3JlCiAgfSk7CiAgb3V0cHV0WydmZWF0dXJlcyddLnB1c2goewogICAgYXR0cjogIlJpZ2h0IEtuZWUiLAogICAgZmVlZGJhY2s6IHJpZ2h0RmVlZGJhY2ssCiAgICBzY29yZTogcmlnaHRTY29yZQogIH0pOwogIHZhciB1cHBlckxpbWl0ID0gNjU7CiAgdmFyIGxvd2VyTGltaXQgPSA1NTsKICB2YXIgYW5nbGUgPSBhbmdsZVRvSG9yaShhdmVyYWdlS2V5cG9pbnRzKGtleXBvaW50c1sxMV0sIGtleXBvaW50c1sxMl0pLCBhdmVyYWdlS2V5cG9pbnRzKGtleXBvaW50c1syM10sIGtleXBvaW50c1syNF0pKTsKICB2YXIgaWRlYWxBbmdsZSA9IGF2ZXJhZ2UodXBwZXJMaW1pdCwgbG93ZXJMaW1pdCk7CiAgdmFyIHJhbmdlID0gTWF0aC5hYnModXBwZXJMaW1pdCAtIGxvd2VyTGltaXQpIC8gMjsKICBiYWNrU2NvcmUgPSBhbmdsZVNjb3JlQ2FsYyhhbmdsZSwgaWRlYWxBbmdsZSwgcmFuZ2UpOwogIGlmIChhbmdsZSA+PSBsb3dlckxpbWl0ICYmIGFuZ2xlIDw9IHVwcGVyTGltaXQpIGJhY2tGZWVkYmFjayA9ICdHb29kJztlbHNlIHsKICAgIGlmIChhbmdsZSA+IHVwcGVyTGltaXQpIGJhY2tGZWVkYmFjayA9ICdZb3VyIGJhY2sgaXMgdG9vIHVwcmlnaHQnO2Vsc2UgYmFja0ZlZWRiYWNrID0gJ1lvdXIgYmFjayBpcyB0b28gY2xvc2UgdG8geW91ciBrbmVlcyc7CiAgfQogIG91dHB1dFsnZmVhdHVyZXMnXS5wdXNoKHsKICAgIGF0dHI6ICJCYWNrIiwKICAgIGZlZWRiYWNrOiBiYWNrRmVlZGJhY2ssCiAgICBzY29yZTogYmFja1Njb3JlCiAgfSk7CiAgdmFyIGhpcFNjb3JlMSA9IGd0U2NvcmVDYWxjKGF2ZXJhZ2VLZXlwb2ludHMoa2V5cG9pbnRzWzIzXSwga2V5cG9pbnRzWzI0XSlbMF0sIGtleXBvaW50c1syOV1bMF0pOwogIHZhciBoaXBTY29yZTIgPSBndFNjb3JlQ2FsYyhhdmVyYWdlS2V5cG9pbnRzKGtleXBvaW50c1syM10sIGtleXBvaW50c1syNF0pWzBdLCBbMjRdWzBdKTsKICBpZiAoaGlwU2NvcmUxIDwgaGlwU2NvcmUyKSBoaXBTY29yZSA9IGhpcFNjb3JlMTtlbHNlIGhpcFNjb3JlID0gaGlwU2NvcmUyOwogIGlmIChhdmVyYWdlS2V5cG9pbnRzKGtleXBvaW50c1syM10sIGtleXBvaW50c1syNF0pWyd4J10gPj0ga2V5cG9pbnRzWzI5XVswXSB8fCBhdmVyYWdlS2V5cG9pbnRzKGtleXBvaW50c1syM10sIGtleXBvaW50c1syNF0pWyd4J10gPj0ga2V5cG9pbnRzWzMwXVsneCddKSBoaXBGZWVkYmFjayA9ICdHb29kJztlbHNlIGhpcEZlZWRiYWNrID0gJ01vdmUgeW91ciBoaXAgb3V0d2FyZHMnOwogIG91dHB1dFsnZmVhdHVyZXMnXS5wdXNoKHsKICAgIGF0dHI6ICJIaXAiLAogICAgZmVlZGJhY2s6IGhpcEZlZWRiYWNrLAogICAgc2NvcmU6IGhpcFNjb3JlCiAgfSk7CiAgb3V0cHV0WydhdmVyYWdlU2NvcmUnXSA9IChyaWdodFNjb3JlICsgbGVmdFNjb3JlICsgYmFja1Njb3JlICsgaGlwU2NvcmUpIC8gNDsKICBlbmdpbmUudXBkYXRlT3V0cHV0KG91dHB1dCk7Cn0="},{"version":3,"sources":["/Users/ananyaaggarwal/Desktop/PostureAI/frontend/src/assets/squatAnalysis.js"],"names":["average","angleToHori","angleScoreCalc","ltScoreCalc","distance","averageKeypoints","gtScoreCalc","Squatanalyse","engine","keypoints","getKeyPoints","output","features","averageScore","leftFeedback","leftScore","rightFeedback","rightScore","backFeedback","backScore","hipFeedback","hipScore","push","attr","feedback","score","upperLimit","lowerLimit","angle","idealAngle","range","Math","abs","hipScore1","hipScore2","updateOutput"],"mappings":"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","sourcesContent":["import {average, angleToHori, angleScoreCalc, ltScoreCalc, distance, averageKeypoints, gtScoreCalc} from './exercise_utils.js';\n//import engine from './engine.js';\n\nexport default function Squatanalyse(engine){\n    let keypoints = engine.getKeyPoints();\n    let output = {features:[], averageScore: 0};\n\n    let leftFeedback = \"\"\n    let leftScore = 0\n    let rightFeedback = \"\"\n    let rightScore = 0\n    let backFeedback = \"\"\n    let backScore = 0\n    let hipFeedback = \"\"\n    let hipScore = 0\n\n    if (keypoints[31]['x']- keypoints[25]['x']<=distance(keypoints[27], keypoints[29])) leftFeedback = 'Good, not going over toes' \n    else leftFeedback = 'Your left knee is going over your toes'\n    leftScore = ltScoreCalc(keypoints[31]['x'] -keypoints[25]['x'], distance(keypoints[27],keypoints[29]))\n    if (keypoints[32]['x']-keypoints[26]['x'] <= distance(keypoints[28], keypoints[30])) rightFeedback = 'Good, not going over toes' \n    else rightFeedback = 'Your right knee is going over your toes'\n    rightScore = ltScoreCalc(keypoints[32]['x']-keypoints[26]['x'], distance(keypoints[28],keypoints[30]))\n    output['features'].push({attr: \"Left Knee\", feedback:leftFeedback, score:leftScore});\n    output['features'].push({attr: \"Right Knee\", feedback:rightFeedback, score:rightScore});\n\n    let upperLimit = 65\n    let lowerLimit = 55\n    let angle = angleToHori(averageKeypoints(keypoints[11], keypoints[12]), averageKeypoints(keypoints[23],keypoints[24]))\n    let idealAngle = average(upperLimit, lowerLimit)\n    let range = Math.abs(upperLimit-lowerLimit)/2\n    backScore = angleScoreCalc(angle, idealAngle, range)\n    if (angle >= lowerLimit && angle <= upperLimit) backFeedback = 'Good' \n    else {\n        if (angle > upperLimit) backFeedback = 'Your back is too upright' \n        else backFeedback = 'Your back is too close to your knees'\n    }\n    output['features'].push({attr: \"Back\", feedback:backFeedback, score:backScore});\n\n    let hipScore1 = gtScoreCalc(averageKeypoints(keypoints[23],keypoints[24])[0],keypoints[29][0])\n    let hipScore2 = gtScoreCalc(averageKeypoints(keypoints[23],keypoints[24])[0],[24][0])\n    if (hipScore1 < hipScore2) hipScore = hipScore1 \n    else hipScore = hipScore2\n    if (averageKeypoints(keypoints[23],keypoints[24])['x'] >= keypoints[29][0] || averageKeypoints(keypoints[23],keypoints[24])['x'] >= keypoints[30]['x']) hipFeedback = 'Good' \n    else hipFeedback = 'Move your hip outwards'\n    output['features'].push({attr: \"Hip\", feedback:hipFeedback, score:hipScore});\n    output['averageScore'] = (rightScore + leftScore + backScore + hipScore)/4;\n    engine.updateOutput(output)\n}"]}]}